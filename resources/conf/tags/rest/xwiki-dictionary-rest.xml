<?xml version='1.0' encoding='ISO-8859-1'?>

<!DOCTYPE dictionary SYSTEM "WPS-dictionary.dtd" >


<dictionary name="xwikitagsrest">
    <comment>XWiki Tags Rest JSON Plan Dictionary</comment>

    <!-- entities definitions (links) -->
    <entities>
        <REST-entities name="XWiki Tags Rest" type="json" invert="true">
            <URL-connection>
                <url>{$xwikiurl}</url>
                <basic-authentication username="{$xwikilogin}" password="{$xwikipassword}" />
                <url-parameter name="media">json</url-parameter>
            </URL-connection>
	
            <REST-entity markup="tags" id="name">
                <REST-property id="name" />
                <REST-property id="poss_id" attribute="id" />
                <REST-property id="poss_name" attribute="name" />
                <REST-property id="poss_url" attribute="url" />
            </REST-entity>

            <REST-attribute markup="pages" id="id">
                <REST-property id="name" />
                <REST-property id="url" />
                <REST-property id="poss_id" entity="id" />
                <REST-property id="poss_name" entity="name" />
            </REST-attribute>
        </REST-entities>
    </entities>

    <env-property name="$web_context" value ="/wps" />

    <affinity-reader-profile name="AffReader" affinity-reader-ref="JDBC_AffReader" threshold="100" />
    <affinity-reader-profile name="DiscoveryAffReader" affinity-reader-ref="JDBC_DiscoveryAffReader" threshold="100" />
    <affinity-reader-profile name="GlobalAffReader" affinity-reader-ref="JDBC_GlobalAffReader" threshold="100" />

    <analysis-profile name="Profile" attributes-ref="JDBC_Profile" type="personal" attribute-size="frequency" attributes-max="300" attributes-base-max="1000">
        <props-mapping>
            <entity-props-mapping>
                <mapping key="ID" value="id" />
                <mapping key="NAME" value="name" />
            </entity-props-mapping>
            <attribute-props-mapping>
                <mapping key="ID" value="id" />
                <mapping key="NAME" value="name" />
                <mapping key="URL" value="url" />
                <mapping key="POSS_ID" value="poss_id" />
                <mapping key="POSS_NAME" value="poss_name" />
                <mapping key="POSS_URL" value="poss_url" />
            </attribute-props-mapping>
        </props-mapping>
        <entities-recommendation apply="all" max="10" threshold="20">
            <mapping key="REC_ID" value="id" />
            <mapping key="REC_NAME" value="name" />
            <mapping key="REC_URL" value="url" />
        </entities-recommendation>
    </analysis-profile>

    <analysis-profile name="DiscoveryProfile" attributes-ref="JDBC_Profile" type="discovery" attribute-size="frequency" attributes-max="80" attributes-base-max="1000" >
        <props-mapping>
            <entity-props-mapping>
                <mapping key="ID" value="id" />
                <mapping key="NAME" value="name" />
            </entity-props-mapping>
            <attribute-props-mapping>
                <mapping key="ID" value="id" />
                <mapping key="NAME" value="name" />
                <mapping key="URL" value="url" />
                <mapping key="POSS_ID" value="poss_id" />
                <mapping key="POSS_NAME" value="poss_name" />
                <mapping key="POSS_URL" value="poss_url" />
            </attribute-props-mapping>
        </props-mapping>
        <entities-recommendation apply="all" max="10" threshold="20">
            <mapping key="REC_ID" value="id" />
            <mapping key="REC_NAME" value="name" />
            <mapping key="REC_URL" value="url" />
        </entities-recommendation>
    </analysis-profile>

    <analysis-profile name="GlobalProfile" attributes-ref="JDBC_Profile" type="global" attribute-size="same" attributes-max="80" >
        <props-mapping>
            <entity-props-mapping>
                <mapping key="ID" value="id" />
                <mapping key="NAME" value="name" />
            </entity-props-mapping>
            <attribute-props-mapping>
                <mapping key="ID" value="id" />
                <mapping key="NAME" value="name" />
                <mapping key="URL" value="url" />
                <mapping key="POSS_ID" value="poss_id" />
                <mapping key="POSS_NAME" value="poss_name" />
                <mapping key="POSS_URL" value="poss_url" />
            </attribute-props-mapping>
        </props-mapping>
        <entities-recommendation apply="all" max="10" threshold="20">
            <mapping key="REC_ID" value="id" />
            <mapping key="REC_NAME" value="name" />
            <mapping key="REC_URL" value="url" />
        </entities-recommendation>
    </analysis-profile>

    <display-profile name="Display" display-empty-links="no" in-color="ffffff" out-color="0" filter-color="56b2ff">
	    <swatch-segmentation>
		    <attribute-swatch>
			    <norm-swatch default-ref="XWIKI_NODE_NORM" />
			    <ref-swatch default-ref="XWIKI_NODE_REF" />
			    <active-norm-swatch default-ref="XWIKI_NODE_CUR_NORM" />
			    <active-ref-swatch default-ref="XWIKI_NODE_CUR_REF" />
		    </attribute-swatch>
		    <link-swatch>
			    <norm-swatch default-ref="XWIKI_LINK_NORM" />
			    <ref-swatch default-ref="XWIKI_LINK_REF" />
			    <active-norm-swatch default-ref="XWIKI_LINK_CUR_NORM" />
			    <active-ref-swatch default-ref="XWIKI_LINK_CUR_REF" />
		    </link-swatch>
	    </swatch-segmentation>
	    <selection-swatch name="search" />
    </display-profile>

    <display-profile name="GlobalDisplay" display-empty-links="no" display-fake-links="no" in-color="ffffff" out-color="0" filter-color="56b2ff">
	    <swatch-segmentation>
		    <attribute-swatch>
			    <norm-swatch default-ref="XWIKI_NODE_NORM" />
			    <ref-swatch default-ref="XWIKI_NODE_REF" />
			    <active-norm-swatch default-ref="XWIKI_NODE_CUR_NORM" />
			    <active-ref-swatch default-ref="XWIKI_NODE_CUR_REF" />
		    </attribute-swatch>
		    <link-swatch>
			    <norm-swatch default-ref="XWIKI_LINK_NORM" />
			    <ref-swatch default-ref="XWIKI_LINK_REF" />
			    <active-norm-swatch default-ref="XWIKI_LINK_CUR_NORM" />
			    <active-ref-swatch default-ref="XWIKI_LINK_CUR_REF" />
		    </link-swatch>
	    </swatch-segmentation>
	    <selection-swatch name="search" />
    </display-profile>

    <segmentation>
	    <analysis-segmentation default-ref="Profile" />
	    <affinity-reader-segmentation default-ref="AffReader">
		    <affreader-analysis-mapping analysis-ref="DiscoveryProfile" default-ref="DiscoveryAffReader" />
		    <affreader-analysis-mapping analysis-ref="GlobalProfile" default-ref="GlobalAffReader" />
	    </affinity-reader-segmentation>
	    <display-segmentation default-ref="Display">
		    <display-analysis-mapping analysis-ref="GlobalProfile" default-ref="GlobalDisplay" />
	    </display-segmentation>
    </segmentation>
</dictionary>
